# === Compiler Config ===
CXX = g++
CXXFLAGS = -Wall -Wextra -std=c++20 -fPIC
LDFLAGS = -shared -undefined dynamic_lookup

# === Output ===
TARGET = TankAlgorithm_211388913_322330820.so

# === Source Files ===
SRCS = \
	RegisterAlgorithm2.cpp \
	\
	TankAlgorithm/AbstractTankAlgorithm.cpp \
	TankAlgorithm/AggressiveTankAlgorithm.cpp \
	TankAlgorithm/PassiveTankAlgorithm.cpp \
	BattleInfo/BattleInfoAgent.cpp \
	SatelliteAnalyticsView/SatelliteAnalyticsView.cpp \
	Players/AbstractPlayer.cpp \
	\
	../UserCommon/GameBoard/BoardCell.cpp \
	../UserCommon/GameBoard/GameBoard.cpp \
	\
	../UserCommon/GameObjects/GameObject.cpp \
	../UserCommon/GameObjects/MovableObject.cpp \
	../UserCommon/GameObjects/Tank.cpp \
	../UserCommon/GameObjects/Shell.cpp \
	../UserCommon/GameObjects/StaticObject.cpp \
	../UserCommon/GameObjects/Wall.cpp \
	../UserCommon/GameObjects/Mine.cpp \
	\
	../UserCommon/BoardSatelliteView/BoardSatelliteView.cpp \
	../UserCommon/GameCollisionHandler/GameCollisionHandler.cpp \
	\
	../UserCommon/Utils/GameBoardUtils.cpp \
	\
	../UserCommon/Logger/Logger.cpp

# === Object Files ===
OBJS = $(SRCS:.cpp=.o)

# === Default Target ===
all: $(TARGET)

# === Link into .so ===
$(TARGET): $(OBJS)
	$(CXX) $(LDFLAGS) -o $@ $^

# === Compile .cpp to .o ===
%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@

# === Cleanup ===
clean:
	rm -f $(OBJS) $(TARGET)
